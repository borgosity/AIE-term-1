#include "Character.h"
#include "Factory.h"
#include "Error.h"



/******************************************************************************
*******************************************************************************/
Character::Character() : m_weapon(0), m_health(100.0f)
{
}

/******************************************************************************
*******************************************************************************/
Character::~Character()
{
	Factory::destroyGameObject(m_weapon);
	m_weapon = 0;
}

/******************************************************************************
*******************************************************************************/
void Character::clearWeapon()
{
	Factory::destroyGameObject(m_weapon);
	m_weapon = 0;
}

/******************************************************************************
*******************************************************************************/
float Character::getHealth() const
{
	return m_health;
}

/******************************************************************************
*******************************************************************************/
Weapon *Character::getWeapon() const
{
	return m_weapon;
}

/******************************************************************************
*******************************************************************************/
void Character::setWeapon(Weapon *weapon)
{
	if (weapon == 0)
	{
		FATAL_ERROR("Character::setWeapon - null pointer not allowed");
	}

	Factory::destroyGameObject(m_weapon);
	m_weapon = weapon;
}
